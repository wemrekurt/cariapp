<!--
  Generated template for the Projectpage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>{{ project?.title }}</ion-title>
  </ion-navbar>

</ion-header>


<ion-content id="mainarea" padding>

  <ion-grid>

    <ion-row>
      <ion-col>
        <ion-card>
          <ion-card-header color="color5">
            <ion-icon name="barcode"></ion-icon> Proje Bilgileri
          </ion-card-header>            
          <ion-list id="project-detail">
            <ion-item color="color2" ><b>Proje Adı:</b> {{ project?.project.name }} </ion-item>  
            <ion-item color="color6" ><b>Türü:</b> {{ project?.project.type.name }} </ion-item>  
            <ion-item color="color2" ><b>Ana Alan Adı:</b> {{ project?.project.main_domain }} </ion-item>  
            <ion-item color="color6" ><b>Fiyatı:</b> {{ project?.project.price }} </ion-item>  
            <ion-item color="color2" ><b>Müşteri:</b> {{ project?.project.customer_id.name }} </ion-item>              
            <ion-item color="color6" ><b>Başlangıç Tarihi:</b> {{ project?.project.start_date }} </ion-item> 
            <ion-item color="color2" ><b>Durum:</b> {{ project?.project.statue }} </ion-item>              
            <ion-item color="color6" ><b>Yenileme Tarihi:</b> {{ project?.project.renew_date }} </ion-item> 
            <ion-item color="color2" ><b>Yenileme Ücreti:</b> {{ project?.project.renew_price }} TL </ion-item>              
            <ion-item color="color6" ><b>Kalan Süre:</b> {{ project?.project.kalansure }} Gün </ion-item> 
            <ion-item color="color2" ><b>Proje Sorumlusu:</b> {{ project?.project.responsible_user.name }} </ion-item> 
          </ion-list>
        </ion-card>
      </ion-col>

      <ion-col>
        <ion-card>
          <ion-card-header id="description_header">
            <ion-icon name="book"></ion-icon> Proje Açıklaması
          </ion-card-header>            
          <p id="padder" [innerHtml]="project?.project.description.description"></p>
          <hr />
          <p id="padder"><b>Alan Adları:</b> {{ project?.project.domains }} </p>
          <div *ngIf="project?.lisans">
            <hr />
            <p id="padder"><b>Lisans:</b> {{ project?.lisans.lisans }} </p>

          </div>
        </ion-card>
      </ion-col>

      <ion-col>
        <ion-card>
          <ion-card-header id="card-header">
            <ion-icon name="settings"></ion-icon> cPanel ve Yönetim Paneli
          </ion-card-header>            
          <ion-list id="project-detail">
            <ion-item *ngIf="project?.project.description.yonetimpanel" color="light" ><b>Yönetim Paneli:</b> {{ project?.project.description.yonetimpanel }} </ion-item>  
            <ion-item color="white" ><b>Yönetim Username:</b> {{ project?.project.description.yonetimuser }} </ion-item>  
            <ion-item color="light" ><b>Yönetim Parola:</b> {{ project?.project.description.yonetimpass }} </ion-item>  
            <ion-item color="white" ><b>cPanel Username:</b> {{ project?.project.description.cpuser }} </ion-item>  
            <ion-item color="light" ><b>cPanel Parola:</b> {{ project?.project.description.cpass }} </ion-item>
          </ion-list>
        </ion-card>
      </ion-col>

    </ion-row>


    <div *ngIf="project?.project.hosting">
      <ion-row>
        <ion-col>          
          <ion-card>
            <ion-card-header id="host-header">
              <ion-icon name="logo-tux"></ion-icon> Hosting Bilgileri
            </ion-card-header>            
            <ion-list id="project-detail" *ngIf="project?.hosting">
              <ion-item color="white" ><b>Paket Adı:</b> {{ project?.hosting.name  }} </ion-item>  
              <ion-item color="light" ><b>Trafik:</b> {{ project?.hosting.BWLIMIT  }} mb/Ay </ion-item>  
              <ion-item color="white" ><b>Kota:</b> {{ project?.hosting.QUOTA  }} mb </ion-item>  
              <ion-item color="light" ><b>E-posta:</b> {{ project?.hosting.MAXPOP  }} Adet </ion-item>
            </ion-list>
          </ion-card>          
        </ion-col>

        <ion-col>          
          <ion-card>
            <ion-card-header id="money-header">
              <ion-icon name="cash"></ion-icon> Paket Güncelle
            </ion-card-header>            
            <ion-list id="project-detail" *ngIf="project?.hosting">
              <ion-item>
                <ion-label>Paket</ion-label>
                <ion-select [(ngModel)]="package">
                  <ion-option *ngFor="let paket of project?.paketler" [value] = "paket?.name" [selected] = "(paket?.name == project?.hosting.name)" > {{ paket?.name }} </ion-option>
                </ion-select>
              </ion-item>
              <ion-item>
                <button color="royal" (click)="updatePackage()" ion-button full>Güncelle</button>
              </ion-item>
            </ion-list>
          </ion-card>          
        </ion-col>
      </ion-row>
    </div>

    <ion-row>

      <ion-col>          
          <ion-card>
            <ion-card-header id="money-header">
              <ion-icon name="cash"></ion-icon> Hesap Hareketleri
            </ion-card-header>            
            <ion-list id="project-detail" *ngIf="project?.payments.length > 0">
              <ion-item color="white" *ngFor="let payment of project?.payments">
                <b>{{ payment?.name }}</b> {{ payment?.description  }} 
                <ion-badge color="color5" item-right>{{ payment?.amount }} TL</ion-badge>
              </ion-item>  
            </ion-list>
          </ion-card>          
        </ion-col>

        <ion-col>          
          <ion-card>
            <ion-card-header id="renew-header">
              <ion-icon name="cash"></ion-icon> Yıllık Ödemeler
            </ion-card-header>            
            <ion-list id="project-detail" *ngIf="project?.renew_payments.length > 0">
              <ion-item color="white" *ngFor="let payment of project?.renew_payments">
                {{ payment?.daty  }}
                <ion-badge color="color5" item-right>{{ payment?.amount }} TL</ion-badge>
              </ion-item>  
            </ion-list>
          </ion-card>          
        </ion-col>

    </ion-row>

  </ion-grid>

  <p id="project-detail">Proje Adı: {{ project?.project.name  }}</p>

</ion-content>
